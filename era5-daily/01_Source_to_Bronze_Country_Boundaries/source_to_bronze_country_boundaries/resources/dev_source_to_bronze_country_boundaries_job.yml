# The main job for source_to_bronze_country_boundaries.
resources:
  jobs:
    dev_source_to_bronze_country_boundaries_job:
      name: dev_source_to_bronze_country_boundaries_job

      tasks:
        - task_key: unit_tests_task
          job_cluster_key: era5_dev
          notebook_task:
            notebook_path: ../tests/source_to_bronze_countryboundaries_run-unit-test.py

        - task_key: run_on_sample_task
          depends_on:
            - task_key: unit_tests_task
          job_cluster_key: era5_dev 
          notebook_task:
            notebook_path: ../src/01_Source_to_Bronze_Country_Boundaries.py

      job_clusters:
        - job_cluster_key: era5_dev
          new_cluster:
            spark_version: 15.1.x-scala2.12  # Keeping the original Spark version
            node_type_id: r6id.xlarge  # node type
            autoscale:
              min_workers: 2  # Minimum workers 
              max_workers: 8  # Maximum workers 
            data_security_mode: "SINGLE_USER"  # Enforcing Single user access mode
            single_user_name: "smajumder1@ua.edu"  # Username
            

